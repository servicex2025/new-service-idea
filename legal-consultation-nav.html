<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI法律相談ナビ - デモ版</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", "Hiragino Sans", "Hiragino Kaku Gothic ProN", "Yu Gothic UI", Meiryo, sans-serif;
            background-color: #f9fafb;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .header h1 {
            font-size: 28px;
            color: #1f2937;
            margin-bottom: 8px;
        }
        
        .header p {
            font-size: 14px;
            color: #6b7280;
        }
        
        .sample-section {
            background: #eff6ff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .sample-section p {
            font-size: 14px;
            color: #374151;
            font-weight: 500;
            margin-bottom: 10px;
        }
        
        .sample-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .sample-btn {
            background: white;
            border: 1px solid #dbeafe;
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            text-align: left;
            transition: background 0.2s;
        }
        
        .sample-btn:hover {
            background: #dbeafe;
        }
        
        .input-section {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .input-section label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 10px;
        }
        
        textarea {
            width: 100%;
            height: 150px;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            resize: vertical;
            font-family: inherit;
        }
        
        textarea:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .input-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
        }
        
        .char-count {
            font-size: 12px;
            color: #6b7280;
        }
        
        .analyze-btn {
            background: #2563eb;
            color: white;
            border: none;
            padding: 10px 24px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .analyze-btn:hover:not(:disabled) {
            background: #1d4ed8;
        }
        
        .analyze-btn:disabled {
            background: #d1d5db;
            cursor: not-allowed;
        }
        
        .output-section {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            display: none;
        }
        
        .output-section.show {
            display: block;
        }
        
        .output-block {
            margin-bottom: 30px;
        }
        
        .output-block:last-child {
            margin-bottom: 0;
        }
        
        .output-block h3 {
            font-size: 18px;
            color: #1f2937;
            padding-bottom: 10px;
            border-bottom: 2px solid #e5e7eb;
            margin-bottom: 15px;
        }
        
        .output-block ul {
            list-style: none;
        }
        
        .output-block li {
            display: flex;
            margin-bottom: 10px;
            color: #374151;
        }
        
        .output-block li::before {
            content: "•";
            color: #2563eb;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .memo-text {
            color: #374151;
            line-height: 1.8;
        }
        
        .notice {
            background: #fef3c7;
            border: 1px solid #fde68a;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }
        
        .notice-icon {
            flex-shrink: 0;
            color: #d97706;
        }
        
        .notice-content {
            font-size: 14px;
            color: #374151;
        }
        
        .notice-content p {
            margin-bottom: 5px;
        }
        
        .notice-content .small {
            font-size: 12px;
            color: #6b7280;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ヘッダー -->
        <div class="header">
            <h1>AI法律相談ナビ</h1>
            <p>弁護士の思考整理を支援するメモ帳型AI</p>
        </div>

        <!-- サンプル読み込み -->
        <div class="sample-section">
            <p>サンプル相談文:</p>
            <div class="sample-buttons">
                <button class="sample-btn" onclick="loadSample(0)">
                    上司からのハラスメントが続き精神的に限界。匿名での相談は可能か?
                </button>
                <button class="sample-btn" onclick="loadSample(1)">
                    ソフトウェア製品について無断でコピーして販売された。損害請求の方法は?
                </button>
            </div>
        </div>

        <!-- 入力エリア -->
        <div class="input-section">
            <label for="inputText">相談内容・メモ</label>
            <textarea 
                id="inputText" 
                placeholder="相談内容やメモをここに入力してください（コピペ可能）"
                maxlength="5000"
                oninput="updateCharCount()"
            ></textarea>
            <div class="input-footer">
                <span class="char-count" id="charCount">0 / 5,000文字</span>
                <button class="analyze-btn" id="analyzeBtn" onclick="analyzeText()">
                    整理する
                </button>
            </div>
        </div>

        <!-- 出力エリア -->
        <div class="output-section" id="outputSection">
            <div class="output-block">
                <h3>争点候補</h3>
                <ul id="disputes"></ul>
            </div>
            
            <div class="output-block">
                <h3>関連法分野</h3>
                <ul id="legalAreas"></ul>
            </div>
            
            <div class="output-block">
                <h3>確認事項</h3>
                <ul id="confirmations"></ul>
            </div>
            
            <div class="output-block">
                <h3>思考整理メモ</h3>
                <p class="memo-text" id="memo"></p>
            </div>
        </div>

        <!-- 注意書き -->
        <div class="notice">
            <div class="notice-icon">⚠️</div>
            <div class="notice-content">
                <p><strong>ご注意</strong></p>
                <p>本ツールは思考整理の補助機能です。法律判断・助言は行いません。</p>
                <p class="small">※ このデモ版では入力内容はブラウザ内に一時保存されます。本番環境ではサーバーに保存されません。</p>
            </div>
        </div>
    </div>

    <script>
        const samples = [
            "上司からのハラスメントが続き精神的に限界。匿名での相談は可能か?",
            "ソフトウェア製品について無断でコピーして販売された。損害請求の方法は?"
        ];

        const analysisData = {
            harassment: {
                disputes: [
                    '労働契約上の安全配慮義務違反の可否',
                    'ハラスメント行為の事実認定',
                    '損害賠償請求の要件該当性'
                ],
                legalAreas: [
                    '労働法',
                    '民法(不法行為)'
                ],
                confirmations: [
                    'ハラスメント行為の具体的内容と発生時期の記録はあるか',
                    '会社の相談窓口や人事部への報告履歴はあるか',
                    '医師の診断書等、精神的被害の客観的証拠はあるか',
                    '就業規則におけるハラスメント対応規定の確認'
                ],
                memo: '事実関係の時系列整理と証拠の有無確認が優先。匿名相談の範囲と限界についても説明が必要。'
            },
            copyright: {
                disputes: [
                    '著作権侵害の成立要件',
                    '損害額の算定方法',
                    '差止請求の可否と緊急性'
                ],
                legalAreas: [
                    '著作権法',
                    '民法(不法行為)',
                    '不正競争防止法'
                ],
                confirmations: [
                    'ソフトウェアの著作物性と著作権の帰属関係',
                    '侵害行為の具体的態様と販売実績の把握',
                    'ライセンス契約等の有無と契約内容',
                    '相手方の特定と連絡先の確認'
                ],
                memo: '著作権登録の有無と侵害の証拠保全が重要。損害額立証のための販売実績調査も検討。'
            },
            default: {
                disputes: [
                    '法的請求の根拠と要件',
                    '相手方の抗弁可能性',
                    '証拠の有無と立証可能性'
                ],
                legalAreas: [
                    '民法',
                    '民事訴訟法'
                ],
                confirmations: [
                    '事実関係の詳細な経緯確認',
                    '関連する契約書や文書の有無',
                    '相手方の情報と連絡先',
                    '希望する解決方法の確認'
                ],
                memo: '事実関係の整理と証拠の確認が必要。法的構成の選択肢を検討。'
            }
        };

        function loadSample(index) {
            document.getElementById('inputText').value = samples[index];
            updateCharCount();
            document.getElementById('outputSection').classList.remove('show');
        }

        function updateCharCount() {
            const text = document.getElementById('inputText').value;
            document.getElementById('charCount').textContent = `${text.length} / 5,000文字`;
            document.getElementById('analyzeBtn').disabled = text.trim().length === 0;
        }

        function analyzeText() {
            const text = document.getElementById('inputText').value.trim();
            if (!text) return;

            const btn = document.getElementById('analyzeBtn');
            btn.textContent = '整理中...';
            btn.disabled = true;

            setTimeout(() => {
                const result = getAnalysisResult(text);
                displayResult(result);
                btn.textContent = '整理する';
                btn.disabled = false;
            }, 1500);
        }

        function getAnalysisResult(text) {
            if (text.includes('ハラスメント') || text.includes('上司')) {
                return analysisData.harassment;
            } else if (text.includes('コピー') || text.includes('ソフトウェア') || text.includes('無断')) {
                return analysisData.copyright;
            } else {
                return analysisData.default;
            }
        }

        function displayResult(result) {
            document.getElementById('disputes').innerHTML = 
                result.disputes.map(item => `<li>${item}</li>`).join('');
            
            document.getElementById('legalAreas').innerHTML = 
                result.legalAreas.map(item => `<li>${item}</li>`).join('');
            
            document.getElementById('confirmations').innerHTML = 
                result.confirmations.map(item => `<li>${item}</li>`).join('');
            
            document.getElementById('memo').textContent = result.memo;
            
            document.getElementById('outputSection').classList.add('show');
            document.getElementById('outputSection').scrollIntoView({ behavior: 'smooth' });
        }

        updateCharCount();
    </script>
</body>
</html>
